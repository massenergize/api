{% extends "base.html" %} {% block javascript %}
<script>
  function onCommunitySelected(selectElement) {
    const subdomain = selectElement.value;
    const suffix = selectElement.sandbox ? "?sandbox=true" : "";
    window.location = `{{meta.host}}/${subdomain}`;
  }
</script>
{% endblock %} {% block content %}
<div class="all-coms-root-container">
  <div class="content-wrapper">
    <img
      src="https://community.massenergize.org/static/media/logo.ee45265d.png"
      class="me-logo"
    />
    <h1>
      <span style="color: rgb(237, 92, 23)">Welcome to</span> our
      <span style="color: #8dc443">Community Portal</span>
    </h1>
    {% if sandbox %}
    <h2>This is the sandbox</h2>
    {% endif %}
    <div class="custom-select-wrapper">
      <div class="select-envelope">
        <select
          class="custom-select"
          onChange="onCommunitySelected(this)"
          data-host-domain="{{meta.host_domain}}"
        >
          <option value="{{c.subdomain}}">Choose your community...</option>
          {% for c in communities %}
          <option value="{{c.subdomain}}{{suffix}}">{{c.displayName}}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <a
    class="link-to-me"
      href="http://www.massenergize.org"
      target="_blank"
      style="
        color: rgb(73, 172, 35);
        text-decoration: underline;
        text-align: center;
      "
      >Find out how to start your own MassEnergize community site here</a
    >
  </div>
</div>
{% endblock %}

<!---------------- EXTRA STYLING ------------------>

{% block styling %}
<style>
  .me-logo {
    margin: 0px auto 10px;
    display: block;
  }
  .custom-select-wrapper {
    width: 100%;
    cursor: pointer;
  }

  .custom-select:focus {
    box-shadow: 0 0 0;
  }

  .select-envelope {
    padding: 2px;
    border-radius: 55px;
    border: 2px solid rgb(237, 92, 23);
  }
  .custom-select {
    font-family: "Google Sans";
    cursor: pointer;
    width: 88%;
    margin-left: 20px;
    margin-right: 20px;
    border: 0px;
  }

  .content-wrapper h1 {
    text-align: center;
    font-weight: 500;
    text-shadow: -1px 1px 1px #a5a5a5;
  }
  .content-wrapper {
    margin-top: -230px;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  .all-coms-root-container {
    height: 100vh;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  /* ------ PC EXCLUSIVE MODE ------ */
  @media only screen and (min-width: 768px) {
    .me-logo {
      max-width: 200px;
    }
    .custom-select-wrapper {
        padding: 10px 16%;
    }

  }
  /* ---- MOBILE MODE ------- */
  @media only screen and (max-width: 767px) {
    .content-wrapper h1 {
      font-size: 2rem;
    }
    .me-logo {
      max-width: 220px;
      margin-bottom: 10px;
    }
    .custom-select-wrapper {
        padding: 16px 3%;
    }
    .custom-select{ 
        font-size:.9rem;
    }
    .link-to-me { 
        font-size:1rem;
        margin:0px 10px;
    }
  }
</style>

{% endblock %}

<!------------------------------------------------->
